//*************************************************************************************************
package age.event;
//*************************************************************************************************

import javax.vecmath.Vector2f;

/**************************************************************************************************
 * This class defines an Event along with its descriptive data.
 */
public class Event {

	/**********************************************************************************************
	 * The event type 
	 */
	private Type type = Type.NONE;

	/**********************************************************************************************
	 * The key for key event types 
	 */
	private Key key = Key.NONE;

	/**********************************************************************************************
	 * The character typed for key event types 
	 */
	private char character = '\0';

	/**********************************************************************************************
	 * The button for pointer event types 
	 */
	private Button button = Button.NONE;
	
	/**********************************************************************************************
	 * The click count for pointer event types 
	 */
	private int count = -1;
	
	/**********************************************************************************************
	 * The pointer position for pointer event types 
	 */
	private Vector2f position = new Vector2f();

	/**********************************************************************************************
	 * The window dimension for the window resize event type 
	 */
	private Vector2f dimension  = new Vector2f();

	/**********************************************************************************************
	 * The command detail name for the command event type 
	 */
	private String command = null;
	
	/**********************************************************************************************
	 * Package visible constructor 
	 */
	public Event() {
		clear();
	}
	
	/**********************************************************************************************
	 * Method to clear all event data values to default values 
	 */
	public void clear() {
		type      = Type.NONE;
		key       = Key.NONE;
		character = '\0';
		button    = Button.NONE;
		count     = -1;
		position.set(-1, -1);
		dimension.set(-1, -1);
		command = null;
	}

	/**********************************************************************************************
	 * Method to set all event data values to the values in Event e
	 * e the event to copy from.
	 */
	public void set(Event e) {
		type      = e.type;
		key       = e.key;
		character = e.character;
		button    = e.button;
		count     = e.count;
		position.set(e.position);
		dimension.set(e.dimension);
		command = e.command;
	}
	
	/**********************************************************************************************
	 * Method to clear all event data values to default values 
	 */
	public Type type() {
		return type;
	}

	//=============================================================================================
	public Key key() {
		return key;
	}
	//=============================================================================================

	//=============================================================================================
	public char character() {
		return character;
	}
	//=============================================================================================

	//=============================================================================================
	public Button button() {
		return button;
	}
	//=============================================================================================

	//=============================================================================================
	public int count() {
		return count;
	}
	//=============================================================================================

	//=============================================================================================
	public float x() {
		return position.x;
	}
	//=============================================================================================

	//=============================================================================================
	public float y() {
		return position.y;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Vector2f position() {
		return position;
	}
	//=============================================================================================

	//=============================================================================================
	public float width() {
		return dimension.x;
	}
	//=============================================================================================

	//=============================================================================================
	public float height() {
		return dimension.y;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Vector2f dimension() {
		return dimension;
	}
	//=============================================================================================

	//=============================================================================================
	public String command() {
		return this.command;
	}
	//=============================================================================================
	
	//=============================================================================================
	public void keyPressed(Key key, char character) {
		keyEvent(Type.KEY_PRESSED, key, character);
	}
	//=============================================================================================

	//=============================================================================================
	public void keyReleased(Key key, char character) {
		keyEvent(Type.KEY_RELEASED, key, character);
	}
	//=============================================================================================

	//=============================================================================================
	public void keyTyped(Key key, char character) {
		keyEvent(Type.KEY_TYPED, key, character);
	}
	//=============================================================================================

	//=============================================================================================
	public void pointerEntered(float x, float y) {
		pointerEvent(Type.POINTER_ENTERED, Button.NONE, -1, x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public void pointerExited(float x, float y) {
		pointerEvent(Type.POINTER_EXITED, Button.NONE, -1, x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public void pointerMoved(float x, float y) {
		pointerEvent(Type.POINTER_MOVED, Button.NONE, -1, x, y);
	}
	//=============================================================================================
	
	//=============================================================================================
	public void pointerPressed(Button button, int count, float x, float y) {
		pointerEvent(Type.POINTER_PRESSED, button, count, x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public void pointerClicked(Button button, int count, float x, float y) {
		pointerEvent(Type.POINTER_CLICKED, button, count, x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public void pointerReleased(Button button, int count, float x, float y) {
		pointerEvent(Type.POINTER_RELEASED, button, count, x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public void surfaceResized(float w, float h) {
		clear();
		type = Type.SURFACE_RESIZED;
		dimension.set(w, h);
	}
	//=============================================================================================

	//=============================================================================================
	public void surfaceCloseRequest() {
		clear();
		type = Type.SURFACE_CLOSE_REQUEST;
	}
	//=============================================================================================

	//=============================================================================================
	public void taskCommand(String command) {
		clear();
		type = Type.TASK_COMMAND;
		this.command = command;
	}
	//=============================================================================================
	
	//=============================================================================================
	private void keyEvent(Type type, Key key, char character) {
		this.type = type;
		this.key = key;
		this.character = character;
		this.button    = Button.NONE;
		this.count = -1;
		this.position.set(-1, -1);
		this.dimension.set(-1, -1);
	}
	//=============================================================================================

	//=============================================================================================
	private void pointerEvent(Type type, Button button, int count, float x, float y) {
		this.type = type;
		this.button = button;
		this.count = count;
		this.position.set(x, y);
		this.dimension.set(-1, -1);
	}
	//=============================================================================================
	
}
//*************************************************************************************************
