//*************************************************************************************************
package age.gui;
//*************************************************************************************************

//*************************************************************************************************
public class MultilineWidget extends Widget {

	//=============================================================================================
	private int   offset;
	private int[] buffer = new int[1024];
	//=============================================================================================

	//=============================================================================================
	public MultilineWidget() {
		flag(Flag.MULTILINE);
	}
	//=============================================================================================

	//=============================================================================================
	public void text(String text) {
		text = text.replace("\r", "");
		text = text.replace("\t", "  ");
		super.text(text);
	}
	//=============================================================================================
	
	//=============================================================================================
	public int offset() {
		return offset;
	}
	//=============================================================================================

	//=============================================================================================
	public int count() {
		return buffer[0];
	}
	//=============================================================================================
	
	//=============================================================================================
	public int page() {
		return buffer[1];
	}
	//=============================================================================================

	//=============================================================================================
	public int lineHeight() {
		return buffer[2];
	}
	//=============================================================================================

	//=============================================================================================
	public CharSequence line(int idx) {
		int start = buffer[3+2*idx];
		int end = buffer[3+2*idx+1];
		return text().subSequence(start, end);
	}
	//=============================================================================================
	
	//=============================================================================================
	public int[] buffer() {
		return buffer;
	}
	//=============================================================================================
	
}
//*************************************************************************************************
