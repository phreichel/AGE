//*************************************************************************************************
package age.task;
//*************************************************************************************************

import java.util.ArrayList;
import java.util.List;

//*************************************************************************************************
public class Tasks {

	//=============================================================================================
	private final List<Task> inbox  = new ArrayList<>();
	private final List<Task> outbox = new ArrayList<>();
	//=============================================================================================
	
	//=============================================================================================
	public void assign(Task task) {
		synchronized (inbox) {
			inbox.add(task);
		}
	}
	//=============================================================================================
	
	//=============================================================================================
	public void update(float dT) {
		synchronized (inbox) {
			outbox.addAll(inbox);
			inbox.clear();
		}
		for (Task task : outbox) {
			task.perform(dT);
		}
		outbox.clear();
	}
	//=============================================================================================
	
}
//*************************************************************************************************
