//*************************************************************************************************
package age.scene;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import age.AGEException;

//*************************************************************************************************

//*************************************************************************************************
public class Node {

	//=============================================================================================
	private Node parent;
	//=============================================================================================

	//=============================================================================================
	private final List<Node> children = new ArrayList<>(5);
	private final List<Node> children_ro = Collections.unmodifiableList(children);
	//=============================================================================================

	//=============================================================================================
	public Node parent() {
		return this.parent;
	}
	//=============================================================================================

	//=============================================================================================
	public List<Node> children() {
		return this.children_ro;
	}
	//=============================================================================================

	//=============================================================================================
	public void attach(Node node) {
		attach(children.size(), node);
	}
	//=============================================================================================

	//=============================================================================================
	public void attach(int idx, Node node) {
		if (node.parent != null) throw new AGEException("Node already attached");
		node.parent = this;
		children.add(idx, node);
	}
	//=============================================================================================

	//=============================================================================================
	public void detach() {
		if (parent == null) throw new AGEException("Node not attached");
		parent.children.remove(this);
		parent = null;
	}
	//=============================================================================================
	
}
//*************************************************************************************************
