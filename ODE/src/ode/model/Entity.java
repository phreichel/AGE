//*************************************************************************************************
package ode.model;
//*************************************************************************************************

import java.util.EnumMap;
import java.util.Map;

import ode.util.ODEException;

//*************************************************************************************************
public class Entity {

	//=============================================================================================
	private final Model model;
	private final Map<EntityEnum, Object> components = new EnumMap<>(EntityEnum.class);
	//=============================================================================================

	//=============================================================================================
	Entity(Model model) {
		this.model = model;
	}
	//=============================================================================================

	//=============================================================================================
	public void addComponent(EntityEnum ident, Object component) {
		if (!ident.getComponentClass().isInstance(component)) {
			throw new ODEException("Invalid Component Class. expected: " + ident.getComponentClass().getName() + " detected: " + component.getClass().getName());
		}
		components.put(ident, component);
	}
	//=============================================================================================

	//=============================================================================================
	public Object getComponent(EntityEnum ident) {
		return components.get(ident);
	}
	//=============================================================================================

	//=============================================================================================
	@SuppressWarnings("unchecked")
	public <C> C getComponent(EntityEnum ident, Class<C> componentClass) {
		return (C) components.get(ident);
	}
	//=============================================================================================
	
	//=============================================================================================
	public void remove() {
		model.remove(this);
	}
	//=============================================================================================
	
}
//*************************************************************************************************
