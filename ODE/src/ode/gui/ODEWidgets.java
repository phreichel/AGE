//*************************************************************************************************
package ode.gui;
//*************************************************************************************************

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

//*************************************************************************************************
public class ODEWidgets {

	//=============================================================================================
	private final List<ODEWidget> roots = new ArrayList<>();
	private final List<ODEWidget> roots_ro = Collections.unmodifiableList(roots);
	//=============================================================================================
	
	//=============================================================================================
	final List<ODEWidget> widgets = new ArrayList<ODEWidget>();
	private final List<ODEWidget> widgets_ro = Collections.unmodifiableList(widgets);
	//=============================================================================================

	//=============================================================================================
	public List<ODEWidget> roots() {
		return roots_ro;
	}
	//=============================================================================================

	//=============================================================================================
	public void root(ODEWidget ... widgets) {
		this.roots.addAll(List.of(widgets));
	}
	//=============================================================================================

	//=============================================================================================
	public void unroot(ODEWidget ... widgets) {
		this.roots.removeAll(List.of(widgets));
	}
	//=============================================================================================

	//=============================================================================================
	public void destroy(ODEWidget ... widgets) {
		for (ODEWidget widget : widgets) {
			unroot(widget);
			destroy(widget.children().toArray(new ODEWidget[] {}));
		}
	}
	//=============================================================================================
	
	//=============================================================================================
	public List<ODEWidget> widgets() {
		return widgets_ro;
	}
	//=============================================================================================

	//=============================================================================================
	public List<ODEWidget> unattached(List<ODEWidget> dst) {
		for (ODEWidget widget : widgets) {
			if (widget.parent() == null) {
				dst.add(widget);
			}
		}
		return dst;
	}
	//=============================================================================================
	
	//=============================================================================================
	public List<ODEWidget> named(String name, List<ODEWidget> dst) {
		for (ODEWidget widget : widgets) {
			if (widget.name().equals(name)) {
				dst.add(widget);
			}
		}
		return dst;
	}
	//=============================================================================================

}
//*************************************************************************************************
