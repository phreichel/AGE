//*************************************************************************************************
package ode.gui;
//*************************************************************************************************

import java.util.ArrayList;
import java.util.List;
import java.util.UUID;

//*************************************************************************************************
public class Widget {
	
	//=============================================================================================
	public final UUID uuid = UUID.randomUUID();
	public final GUI gui;
	public float x;
	public float y;
	public float width;
	public float height;
	public float global_x;
	public float global_y;
	public float global_z;
	public Widget parent = null;
	public final List<Widget> children = new ArrayList<>();
	//=============================================================================================

	//=============================================================================================
	Widget(GUI gui) {
		this.gui = gui; 
	}
	//=============================================================================================

	//=============================================================================================
	public boolean detach() {
		return gui.detach(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean attach(Widget widget) {
		return gui.attach(this, widget);
	}
	//=============================================================================================
	
	//=============================================================================================
	public boolean delete() {
		return gui.delete(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveToTop() {
		return gui.moveToTop(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveToBottom() {
		return gui.moveToBottom(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveUp() {
		return gui.moveUp(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveDown() {
		return gui.moveDown(this);
	}
	//=============================================================================================
	
	//=============================================================================================
	public int hashCode() {
		return uuid.hashCode();
	}
	//=============================================================================================

	//=============================================================================================
	public boolean equals(Object obj) {
		return uuid.equals(obj);
	}
	//=============================================================================================

	//=============================================================================================
	protected void update() {
		global_x = x;
		global_y = y;
		global_z = 1;
		if (parent != null) {
			global_x += parent.global_x;
			global_y += parent.global_y;
			global_z += parent.global_z;
		}
		for (Widget child : children) {
			child.update();
		}
	}
	//=============================================================================================
	
}
//*************************************************************************************************
