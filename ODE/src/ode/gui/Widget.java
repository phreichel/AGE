//*************************************************************************************************
package ode.gui;
//*************************************************************************************************

import java.util.Collections;
import java.util.EnumSet;
import java.util.List;
import java.util.Set;

import javax.vecmath.Vector2f;

import ode.log.Level;
import ode.log.Logger;
import ode.msg.Msg;
import ode.util.Node;

//*************************************************************************************************
public class Widget extends Node<Widget> {

	//=============================================================================================
	private GUI    gui;
	private String name;
	private Type   type;
	//=============================================================================================

	//=============================================================================================
	private final Set<Flag> flags    = EnumSet.noneOf(Flag.class);
	private final Set<Flag> flags_ro = Collections.unmodifiableSet(flags);
	//=============================================================================================

	//=============================================================================================
	private final Vector2f position  = new Vector2f();
	private final Vector2f dimension = new Vector2f();
	//=============================================================================================

	//=============================================================================================
	private String text;
	//=============================================================================================

	//=============================================================================================
	public Widget(GUI gui) {
		this.gui = gui;
		this.gui.widgets.add(this);
	}
	//=============================================================================================

	//=============================================================================================
	public GUI gui() {
		return gui;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Type type() {
		return type;
	}
	//=============================================================================================

	//=============================================================================================
	public void type(Type type) {
		this.type = type;
	}
	//=============================================================================================

	//=============================================================================================
	public String name() {
		return name;
	}
	//=============================================================================================

	//=============================================================================================
	public void name(String name) {
		this.name = name;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Set<Flag> flags() {
		return flags_ro;
	}
	//=============================================================================================

	//=============================================================================================
	public boolean match(Flag ... flags) {
		return this.flags.containsAll(List.of(flags));
	}
	//=============================================================================================
	
	//=============================================================================================
	public void set(Flag ... flags) {
		this.flags.addAll(List.of(flags));
	}
	//=============================================================================================

	//=============================================================================================
	public void clear(Flag ... flags) {
		this.flags.removeAll(List.of(flags));
	}
	//=============================================================================================
	
	//=============================================================================================
	public Vector2f position() {
		return position;
	}
	//=============================================================================================

	//=============================================================================================
	public void position(Vector2f position) {
		this.position.set(position);
	}
	//=============================================================================================

	//=============================================================================================
	public void position(float x, float y) {
		this.position.set(x, y);
	}
	//=============================================================================================
	
	//=============================================================================================
	public Vector2f dimension() {
		return dimension;
	}
	//=============================================================================================

	//=============================================================================================
	public void dimension(Vector2f dimension) {
		this.dimension.set(dimension);
	}
	//=============================================================================================

	//=============================================================================================
	public void dimension(float x, float y) {
		this.dimension.set(x, y);
	}
	//=============================================================================================

	//=============================================================================================
	public String text() {
		return text;
	}
	//=============================================================================================

	//=============================================================================================
	public void text(String text) {
		this.text = text;
	}
	//=============================================================================================

	//=============================================================================================
	public void onPointerEnter(Msg msg) {
		Logger.log(Level.DEBUG, "ENTER");
	}
	//=============================================================================================

	//=============================================================================================
	public void onPointerExit(Msg msg) {		
		Logger.log(Level.DEBUG, "EXIT");
	}
	//=============================================================================================

	//=============================================================================================
	public void onPointerPressed(Msg msg) {		
		Logger.log(Level.DEBUG, "PRESSED");
	}
	//=============================================================================================

	//=============================================================================================
	public void onPointerReleased(Msg msg) {		
		Logger.log(Level.DEBUG, "RELEASED");
	}
	//=============================================================================================

	//=============================================================================================
	public void onPointerClicked(Msg msg) {		
		Logger.log(Level.DEBUG, "CLICKED");
	}
	//=============================================================================================
	
}
//*************************************************************************************************
