//*************************************************************************************************
package ode.gui;
//*************************************************************************************************

import java.util.ArrayList;
import java.util.BitSet;
import java.util.List;
import java.util.UUID;

//*************************************************************************************************
public class Widget {

	//=============================================================================================
	private static int inc = 0;
	//=============================================================================================

	//=============================================================================================
	public static final int DISPLAYED = inc++;
	public static final int HOVER = inc++;
	//=============================================================================================
	
	//=============================================================================================
	public final UUID uuid = UUID.randomUUID();
	public final GUI gui;
	public final BitSet flags = new BitSet(inc);
	public float x;
	public float y;
	public float width;
	public float height;
	public Widget parent = null;
	public final List<Widget> children = new ArrayList<>();
	//=============================================================================================

	//=============================================================================================
	Widget(GUI gui) {
		this.gui = gui; 
		this.flags.set(DISPLAYED);
	}
	//=============================================================================================

	//=============================================================================================
	public void setPosition(float x, float y) {
		this.x = x;
		this.y = y;
	}
	//=============================================================================================

	//=============================================================================================
	public void setSize(float width, float height) {
		this.width = width;
		this.height = height;
	}
	//=============================================================================================

	//=============================================================================================
	public void setBounds(float x, float y, float width, float height) {
		setPosition(x, y);
		setSize(width, height);
	}
	//=============================================================================================
	
	//=============================================================================================
	public float globalX() {
		if (parent == null) return x;
		else return parent.globalX() + x;
	}
	//=============================================================================================

	//=============================================================================================
	public float globalY() {
		if (parent == null) return y;
		else return parent.globalY() + y;
	}
	//=============================================================================================

	//=============================================================================================
	public float globalZ() {
		if (parent == null) return 1;
		else return parent.globalZ() + 1;
	}
	//=============================================================================================
	
	//=============================================================================================
	public boolean detach() {
		return gui.detach(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean attach(Widget widget) {
		return gui.attach(this, widget);
	}
	//=============================================================================================
	
	//=============================================================================================
	public boolean delete() {
		return gui.delete(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveToTop() {
		return gui.moveToTop(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveToBottom() {
		return gui.moveToBottom(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveUp() {
		return gui.moveUp(this);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean moveDown() {
		return gui.moveDown(this);
	}
	//=============================================================================================
	
	//=============================================================================================
	public int hashCode() {
		return uuid.hashCode();
	}
	//=============================================================================================

	//=============================================================================================
	public boolean equals(Object obj) {
		return uuid.equals(obj);
	}
	//=============================================================================================

}
//*************************************************************************************************
